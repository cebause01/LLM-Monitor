<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>LLM Performance Dashboard</title>

  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Google Fonts (Inter) -->
  <link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet"/>

  <!-- React and Babel -->
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <style>
    body {
      font-family: 'Inter', sans-serif;
    }
  </style>
</head>
<body class="bg-gray-100">

  <div id="root"></div>

  <!-- Your React Code -->
  <script type="text/babel">

    const { useState } = React;

    const App = () => {
      const [results, setResults] = useState([
        {
          id: 1,
          model: 'gemini-2.0-flash',
          prompt: 'You are a clinical assistant analyzing peritoneal dialysis data for a patient.
Given the patient information and daily dialysis data including drain volumes in milliliters (an array of numbers per day), weight in kilograms, and blood pressure readings (systolic/diastolic), please:
1.  For each day, *sum the drain volumes to calculate the total ultrafiltration (UF) in liters*, rounding to two decimal places (e.g., 850 mL = 0.85 L).
    
2.  Extract the patient's weight and blood pressure for the same dates.
    
3.  Generate a clinical report with the following sections:
    
*   *Patient Summary* (basic demographics, dialysis type, bag info, EPO injection, race, religion, hospital distance)
    
*   *Data Table* listing each date with: UF in liters, weight (kg), blood pressure (Systolic/Diastolic mmHg)
    
*   *Top 3 Anomalies* based on:
    
    *   UF values higher than the average plus 1 standard deviation
        
    *   Weight changes greater than 0.5 kg compared to previous day
        
    *   Blood pressure above 140/90 mmHg
        
*   *Recommendations* for UF, weight, and blood pressure management
    
*   *Next Steps* including lab tests, monitoring, consults, and follow-ups
    
Present the report in clear, professional clinical language without code or raw data tables. Use full sentences and bullet points where appropriate.
Ensure all UF calculations are accurate, based solely on summing daily drain volumes converted to liters with two decimals.  
  
this is the JSON:  
  
{ "Patient_ID": "85h49272ha", "Gender": "Male", "Age": 23, "Dialysis_Type": "Peritoneal Dialysis", "Solution_Provider": "Baxter", "Bag_Concentration": { "Bag 1": "1.5%", "Bag 2": "1.5%", "Bag 3": "1.5%" }, "Bag_Volume": "5.5 Litres", "EPO_Injection": "Procrit (3x per month)", "Race": "Malay", "Religion": "Islam", "Distance_from_hospital": "12.3KM", "UF_Reading_Data": [ { "Date": "23 May 2025", "Bags": [ { "Bag": 1, "Time": "08:05", "Volume_ml": 300, "Concentration_%": 15, "Condition": "Clear" }, { "Bag": 2, "Time": "10:30", "Volume_ml": 300, "Concentration_%": 15, "Condition": "Clear" }, { "Bag": 3, "Time": "12:30", "Volume_ml": 300, "Concentration_%": 15, "Condition": "Clear" } ] }, { "Date": "22 May 2025", "Bags": [ { "Bag": 1, "Time": "08:05", "Volume_ml": 300, "Concentration_%": 1.5, "Condition": "Clear" }, { "Bag": 2, "Time": "10:30", "Volume_ml": 250, "Concentration_%": 15, "Condition": "Clear" }, { "Bag": 3, "Time": "12:30", "Volume_ml": 300, "Concentration_%": 1.5, "Condition": "Clear" } ] }, { "Date": "21 May 2025", "Bags": [ { "Bag": 1, "Time": "08:05", "Volume_ml": 310, "Concentration_%": 15, "Condition": "Clear" }, { "Bag": 2, "Time": "10:30", "Volume_ml": 290, "Concentration_%": 1.5, "Condition": "Clear" }, { "Bag": 3, "Time": "12:30", "Volume_ml": 270, "Concentration_%": 1.5, "Condition": "Clear" } ] }, { "Date": "20 May 2025", "Bags": [ { "Bag": 1, "Time": "08:05", "Volume_ml": 300, "Concentration_%": 15, "Condition": "Clear" }, { "Bag": 2, "Time": "10:30", "Volume_ml": 300, "Concentration_%": 1.5, "Condition": "Clear" }, { "Bag": 3, "Time": "12:30", "Volume_ml": 270, "Concentration_%": 1.5, "Condition": "Clear" } ] }, { "Date": "19 May 2025", "Bags": [ { "Bag": 1, "Time": "08:05", "Volume_ml": 300, "Concentration_%": 15, "Condition": "Clear" }, { "Bag": 2, "Time": "10:30", "Volume_ml": 290, "Concentration_%": 1.5, "Condition": "Clear" }, { "Bag": 3, "Time": "12:30", "Volume_ml": 250, "Concentration_%": 1.5, "Condition": "Clear" } ] }, { "Date": "18 May 2025", "Bags": [ { "Bag": 1, "Time": "08:05", "Volume_ml": 250, "Concentration_%": 1.5, "Condition": "Clear" }, { "Bag": 2, "Time": "10:30", "Volume_ml": 250, "Concentration_%": 1.5, "Condition": "Clear" }, { "Bag": 3, "Time": "12:30", "Volume_ml": 250, "Concentration_%": 1.5, "Condition": "Clear" } ] }, { "Date": "17 May 2025", "Bags": [ { "Bag": 1, "Time": "08:05", "Volume_ml": 300, "Concentration_%": 1.5, "Condition": "Clear" }, { "Bag": 2, "Time": "10:30", "Volume_ml": 250, "Concentration_%": 1.5, "Condition": "Clear" }, { "Bag": 3, "Time": "12:30", "Volume_ml": 250, "Concentration_%": 1.5, "Condition": "Clear" } ] } ], "Blood_Pressure_Data": [ { "Date": "23 May 2025", "Time": "08:05", "Systolic_mmHg": 135, "Diastolic_mmHg": 75 }, { "Date": "22 May 2025", "Time": "08:05", "Systolic_mmHg": 142, "Diastolic_mmHg": 80 }, { "Date": "21 May 2025", "Time": "08:05", "Systolic_mmHg": 138, "Diastolic_mmHg": 77 }, { "Date": "20 May 2025", "Time": "08:05", "Systolic_mmHg": 135, "Diastolic_mmHg": 81 }, { "Date": "19 May 2025", "Time": "08:05", "Systolic_mmHg": 147, "Diastolic_mmHg": 80 }, { "Date": "18 May 2025", "Time": "08:05", "Systolic_mmHg": 130, "Diastolic_mmHg": 78 }, { "Date": "17 May 2025", "Time": "08:05", "Systolic_mmHg": 130, "Diastolic_mmHg": 75 } ], "Weight_Data": [ { "Date": "23 May 2025", "Pre_drain_Weight_kg": 70 }, { "Date": "22 May 2025", "Pre_drain_Weight_kg": 69.5 }, { "Date": "21 May 2025", "Pre_drain_Weight_kg": 70.2 }, { "Date": "20 May 2025", "Pre_drain_Weight_kg": 69.8 }, { "Date": "19 May 2025", "Pre_drain_Weight_kg": 70.2 }, { "Date": "18 May 2025", "Pre_drain_Weight_kg": 69.5 }, { "Date": "17 May 2025", "Pre_drain_Weight_kg": 70.2 } ] }',
          output: 'Personalized medicine for kidney disease is advancing with breakthroughs...',
          issue: 'The summary omitted key ethical considerations regarding data privacy in genetic research.',
        },
        {
          id: 2,
          model: 'claude-3-opus-20240229',
          prompt: 'Write a detailed patient education article about managing peritoneal dialysis at home...',
          output: 'Managing peritoneal dialysis (PD) at home involves careful adherence...',
          issue: 'Content was generally good but lacked specific actionable steps for emergency situations.',
        },
        {
          id: 3,
          model: 'gpt-4o-2024-05-13',
          prompt: 'Generate five unique and engaging social media posts for World Kidney Day...',
          output: '1. Your kidneys work tirelessly! This World Kidney Day, take a moment to appreciate them...',
          issue: 'Some posts used overly technical jargon that might not resonate with a general audience.',
        },
        {
          id: 4,
          model: 'gemini-2.0-flash',
          prompt: 'Explain the mechanism of action of new SGLT2 inhibitors in CKD management...',
          output: 'SGLT2 inhibitors primarily reduce glucose reabsorption in the renal tubules...',
          issue: 'The response provided outdated clinical trial data; did not include the most recent studies.',
        },
        {
          id: 5,
          model: 'claude-3-opus-20240229',
          prompt: 'Develop a script for a chatbot designed to answer common questions from PD patients...',
          output: 'Chatbot Script: "What can I eat on PD?" "A balanced diet is crucial..."',
          issue: 'The chatbot responses were too generic and lacked empathy for new patients.',
        },
        {
          id: 6,
          model: 'gpt-4o-2024-05-13',
          prompt: 'Create a case study based on a hypothetical patient with ESRD...',
          output: 'Case Study: Mr. John Doe...',
          issue: 'The case study was well-written but did not adequately emphasize the multidisciplinary care aspect.',
        },
      ]);

      const [showModal, setShowModal] = useState(false);
      const [modalTitle, setModalTitle] = useState('');
      const [modalContent, setModalContent] = useState('');

      const openModal = (title, content) => {
        setModalTitle(title);
        setModalContent(content);
        setShowModal(true);
      };

      const closeModal = () => {
        setShowModal(false);
        setModalTitle('');
        setModalContent('');
      };

      const truncateText = (text, maxLength) => {
        return text.length <= maxLength ? text : text.substring(0, maxLength) + '...';
      };

      return (
        <div className="min-h-screen bg-gray-100 p-4 font-sans antialiased">
          <div className="max-w-7xl mx-auto bg-white shadow-lg rounded-xl p-6 md:p-8">
            <h1 className="text-3xl font-bold text-gray-800 mb-6 text-center md:text-left">
              LLM Performance Dashboard
            </h1>
            <div className="overflow-x-auto rounded-lg shadow-md">
              <table className="min-w-full divide-y divide-gray-200">
                <thead className="bg-gray-50">
                  <tr>
                    <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider md:px-6">Model</th>
                    <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider md:px-6">Prompt</th>
                    <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider md:px-6">Output</th>
                    <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider md:px-6">Issue</th>
                  </tr>
                </thead>
                <tbody className="bg-white divide-y divide-gray-200">
                  {results.map((result) => (
                    <tr key={result.id} className="hover:bg-gray-50">
                      <td className="px-4 py-4 whitespace-nowrap md:px-6">
                        <div className="text-sm text-gray-900">
                          {truncateText(result.model, 20)}
                        </div>
                        <button
                          onClick={() => openModal('Model Details', result.model)}
                          className="mt-1 text-blue-600 hover:text-blue-800 text-xs font-medium rounded-full py-1 px-2"
                        >
                          View Full Model
                        </button>
                      </td>
                      <td className="px-4 py-4 md:px-6">
                        <div className="text-sm text-gray-900">
                          {truncateText(result.prompt, 50)}
                        </div>
                        <button
                          onClick={() => openModal('Full Prompt', result.prompt)}
                          className="mt-1 text-blue-600 hover:text-blue-800 text-xs font-medium rounded-full py-1 px-2"
                        >
                          View Full Prompt
                        </button>
                      </td>
                      <td className="px-4 py-4 md:px-6">
                        <div className="text-sm text-gray-900">
                          {truncateText(result.output, 50)}
                        </div>
                        <button
                          onClick={() => openModal('Full Output', result.output)}
                          className="mt-1 text-blue-600 hover:text-blue-800 text-xs font-medium rounded-full py-1 px-2"
                        >
                          View Full Output
                        </button>
                      </td>
                      <td className="px-4 py-4 md:px-6 text-sm text-gray-900">
                        {result.issue}
                      </td>
                    </tr>
                  ))}
                </tbody>
              </table>
            </div>
          </div>

          {/* Modal */}
          {showModal && (
            <div className="fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center p-4 z-50">
              <div className="bg-white rounded-xl shadow-2xl w-full max-w-lg md:max-w-2xl lg:max-w-3xl animate-fade-in-up overflow-hidden">
                <div className="flex justify-between items-center bg-blue-600 text-white p-4 rounded-t-xl">
                  <h3 className="text-xl font-semibold">{modalTitle}</h3>
                  <button
                    onClick={closeModal}
                    className="text-white hover:text-gray-200 text-2xl"
                  >
                    &times;
                  </button>
                </div>
                <div className="p-4 max-h-[70vh] overflow-y-auto">
                  <p className="text-gray-800 whitespace-pre-wrap">{modalContent}</p>
                </div>
                <div className="p-4 bg-gray-50 border-t border-gray-200 flex justify-end rounded-b-xl">
                  <button
                    onClick={closeModal}
                    className="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition duration-200"
                  >
                    Close
                  </button>
                </div>
              </div>
            </div>
          )}

          <style>{`
            @keyframes fadeInScaleUp {
              from {
                opacity: 0;
                transform: scale(0.95);
              }
              to {
                opacity: 1;
                transform: scale(1);
              }
            }
            .animate-fade-in-up {
              animation: fadeInScaleUp 0.3s ease-out forwards;
            }
          `}</style>
        </div>
      );
    };

    ReactDOM.createRoot(document.getElementById('root')).render(<App />);
  </script>
</body>
</html>
